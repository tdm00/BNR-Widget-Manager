<h1>Widgets</h1>

<form action="/widgets/filter">
    <label for="size">Enter A Size To Match to Widget:</label>
    <input type="text" id="size" name="size" class="span2">
    <input type="submit" value="Search by size" class="btn">
    <%= link_to "Reset", {:controller => "widgets", :action => "index"}, :class => "btn" %>
    
</form>

<table class="listing">
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Color</th>
    <th>Size</th>
    <th>Box</th>
    <th>Created</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @widgets.each do |widget| %>
  <tr>
    <td><%= widget.name %></td>
    <td><%= widget.description %></td>
    <td><%= widget.color %></td>
    <td><%= widget.size %></td>
    <td>
      <%#= widget.box ? widget.box.material : "None" %>
      <% if widget.box %>
          <%= widget.box.material %>
      <% else %>
          None
      <% end %>
    </td>
    <td>
      <%= "#{my_date(widget.created_at)}" %>
    </td>
    <td>
      <%= link_to 'Show', widget_path(widget), :class => "btn btn-primary" %>
    </td>
    <td>
      <%#= link_to 'Edit', edit_widget_path(widget) %>
      <%= link_to 'Edit', edit_widget_path(widget), :class => "btn btn-success" %>
    </td>
    <td>
      <%#= link_to 'Destroy', box, confirm: 'Are you sure?', method: :delete %>
      <%= link_to 'Destroy', widget_path(widget), {method: :delete, confirm: 'Are you sure?', :class => "btn btn-danger"} %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Widget', new_widget_path %>
